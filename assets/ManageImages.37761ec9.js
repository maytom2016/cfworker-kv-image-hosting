import{d as v,l as p,m as g,p as x,r as h,o as d,q as r,b as n,a as l,t as m,e as u,s as A,T as y,w as F,v as I,x as w}from"./vendor.8372d75e.js";import{_ as B,r as D,f as z,a as C,b as k}from"./ImageBox.e0da38c1.js";const E={class:"mx-auto max-w-6xl my-4 px-4 relative"},b={class:"flex items-center justify-between mb-4"},j=l("div",{class:"text-gray-800 text-lg"},"\u7BA1\u7406\u56FE\u7247",-1),q={class:"text-sm text-gray-500"},T={class:"grid gap-4 grid-cols-3"},V=v({setup($){const c=p(!1),t=p([]),_=g(()=>t.value.reduce((e,s)=>e+s.size,0)),i=()=>{c.value=!0,D().then(e=>{t.value=e.sort((s,o)=>s.uploadedAt>o.uploadedAt?-1:o.uploadedAt>s.uploadedAt?1:0)}).catch(()=>{}).finally(()=>{c.value=!1})};x(()=>{i()});const f=e=>{const s=e.split("/").slice(-1)[0];k(s).then(()=>{t.value=t.value.filter(o=>o.src!==e)})};return(e,s)=>{const o=h("font-awesome-icon");return d(),r("div",E,[n(B,{loading:c.value},null,8,["loading"]),l("div",b,[l("div",null,[j,l("div",q," \u5DF2\u4E0A\u4F20 "+m(t.value.length)+" \u5F20\u56FE\u7247\uFF0C\u5171 "+m(u(z)(u(_))),1)]),n(o,{icon:u(A),class:"text-xl cursor-pointer",onClick:i},null,8,["icon"])]),l("div",T,[n(y,{name:"el-fade-in-linear"},{default:F(()=>[(d(!0),r(I,null,w(t.value,a=>(d(),r("div",{class:"col-span-3 md:col-span-1",key:a.src},[n(C,{src:a.src,size:a.size,name:a.name,onDelete:L=>f(a.src),mode:"uploaded","uploaded-at":a.uploadedAt,"expires-at":a.expiresAt},null,8,["src","size","name","onDelete","uploaded-at","expires-at"])]))),128))]),_:1})])])}}});export{V as default};
